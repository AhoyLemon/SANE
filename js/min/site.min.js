function randomNumber(e,t){return Math.floor(Math.random()*(t-e))+e}function randomFrom(e){return e[Math.floor(Math.random()*e.length)]}function shuffle(e){for(var t,o,n=e.length;n;t=Math.floor(Math.random()*n),o=e[--n],e[n]=e[t],e[t]=o);return e}function addCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function findInArray(e,t){let o=e.indexOf(t);return o>-1?o:null}function removeFromArray(e,t){for(var o=e.length-1;o--;)e[o]==t&&e.splice(o,1)}function percentOf(e,t){return 0==e||0==t?0:Math.round(100*t/e)}function sendEvent(e,t,o,n){_paq&&null!=_paq?n?(_paq.push(["trackEvent",e,t,o,n]),testing&&console.log("CATEGORY: "+e+", ACTION:"+t+", LABEL:"+o+", VALUE:"+n)):o?(_paq.push(["trackEvent",e,t,o]),testing&&console.log("CATEGORY: "+e+", ACTION:"+t+", LABEL:"+o)):(_paq.push(["trackEvent",e,t]),testing&&console.log("CATEGORY: "+e+", ACTION:"+t)):testing&&alert("Motomo seems to be broken")}const siteURL="",codeLetters=["A","C","D","E","F","H","J","K","L","M","N","P","R","T","V","X","Y","Z"],comet1=new Howl({src:["audio/comet1.mp3"],volume:0,autoplay:!1}),comet2=new Howl({src:["audio/comet2.mp3"],loop:!1,autoplay:!1,volume:0}),cometLoop=new Howl({src:["audio/comet_loop.mp3"],autoplay:!1,loop:!0,volume:0}),saneSound=new Howl({src:["audio/smile.mp3","audio/smile.ogg"],loop:!1,autoplay:!1,volume:1}),insaneSound=new Howl({src:["audio/trespassing.mp3","audio/trespassing.ogg"],loop:!1,autoplay:!1,volume:1}),questions={colors:{type:"multipleChoice",question:"Which of these colors do you prefer?",options:[{name:"red",hex:"#C1292E",opposite:"#3ed6d1"},{name:"blue",hex:"#235789",opposite:"#f89434"},{name:"violent",hex:"#42033D",opposite:"#61ee6d"},{name:"yellow",hex:"#F1D302",light:!0,opposite:"#87B5FD"},{name:"black",small:"(the color of death)",hex:"#010101",opposite:"#ccc"},{name:"green",hex:"#77BFA3",light:!0,opposite:"#f05592"}]},drinks:{type:"range",title:"How many alcoholic drinks do you drink in a week?",min:3,max:99},rorschach:{options:[{text:"death moth"},{text:"smiling skull"},{text:"stab victim"},{text:"blood prints"}]},youThink:{options:[{text:"yes"},{text:"no"}]},foodHappy:{options:[{text:"Yes, I choose to believe it will."},{text:"Food will not make me happy."},{text:"Nothing can do that."}]},ashamed:{options:[{text:"strongly disagree"},{text:"slightly disagree"},{text:"modestly do agree"},{text:"extremely agree"}]},hats:{options:[{text:"strongly disagree"},{text:"slightly disagree"},{text:"modestly do agree"},{text:"extremely agree"}]},loveObject:{options:[{text:"a potato",slug:"potato",title:"A Potato"},{text:"a u-turn sign",slug:"uturn",title:"A Sign That Signifies U-Turns Are Allowed Here"},{text:"lead crystal glass",slug:"glass",title:"A Lead Crystal Glass, Which Is Unsafe To Drink From"},{text:"a camera that costs about $6,000",slug:"camera",title:"A Leica M10-D digital Rangefinder camera, MSRP $8,000 USD."}]},enterCode2FollowUp:{confirmOptions:[{text:"Yes"},{text:"No"}],questions:[{title:"Do you forget a lot of things?",options:[{text:"Yes"},{text:"No"},{text:"I don't know"}]},{title:"Forgetfulness is a sign of depression. Are you depressed?",options:[{text:"Yes"},{text:"No"},{text:"Sometimes"}]},{title:"Forgetfulness is caused by stress and anxiety. Which is a bigger problem for you?",options:[{text:"stress"},{text:"anxiety"},{text:"both"}]},{title:"Would you describe your forgetfulness as...",options:[{text:"Typical"},{text:"Problematic"},{text:"I don't know"}]},{title:"Everyone will forget you after you die. Is this a problem?",options:[{text:"Yes"},{text:"No"},{text:"I don't know"}]},{title:"Will you forget those who have loved you, and will it be hard?",options:[{text:"Yes I will forget them, and yes it will be hard."},{text:"Yes I will forget them but it will be easy."},{text:"I will try to not forget them, but it will be hard if I do."}]},{title:"Is it difficult to remember?",options:[{text:"no"},{text:"very"},{text:"it is difficult to be truthful"}]}]},breatheNormally:{why:{options:[{text:"Because of the medications I am on"},{text:"Because of my issues with my weight and/or food"},{text:"Because of my struggles with anxiety"},{text:"Because of my upbringing/family/the way I was raised"},{text:"Because of the way my nose is shaped"},{text:"Because of my unusual/unappealing face"},{text:"Because of my the thoughts I try to keep to myself"},{text:"Because I cannot stop dwelling on my regrets"},{text:"Because there is probably a carbon monoxide leak"},{text:"Because I am nervous about what this test will uncover"}]}},tongue:{options:[{text:"me"},{text:"you"},{text:"nothing"},{text:"pine needles"},{text:"dread"},{text:"that is unknowable"}]},ramblingQuestion:{options:[{text:"Yes"},{text:"No."},{text:"I don't know."}]},howManyLights:{options:[{text:"1",disabled:!1},{text:"2",disabled:!1},{text:"3",disabled:!1},{text:"4",disabled:!0},{text:"5",disabled:!1},{text:"7",disabled:!1},{text:"8",disabled:!1},{text:"1,000",disabled:!1}],followUp:{options:[{text:"I know that isn't the right number",disabled:!1},{text:"I don't know that isn't the right number",disabled:!1}]}},hearingMusic:{options:[{text:"Yes, I hear music.",span:1},{text:"I don't hear anything.",span:1},{text:"I did, but not anymore.",span:2}],followUp:{no:{title:"Must have been your imagination",options:[{text:"I guess so."},{text:"I'm sorry."}]},yes:{title:"What did it sound like?",options:[{text:"Cheerful"},{text:"Ominous"},{text:"Threatening"},{text:"Pleasant"}]}}},whyTest:{options:[{text:"I want to learn more about myself."},{text:"Someone suggested I do this."},{text:"I would like a SANE sticker."},{text:"I am worried that I might be insane."}]},yourPrediction:{options:[{text:"I expect to be labeled SANE, which I am.",html:"I expect to be labeled <strong>SANE</strong>, which I am.",diagnosis:"sane"},{text:"I expect to be labeled SANE, but I am not.",html:"I expect to be labeled <strong>SANE</strong>, but I am not.",diagnosis:"sane"},{text:"I expect to be labeled INSANE, which may or may not be true.",html:"I expect to be labeled <strong>INSANE</strong>, which may or may not be true.",diagnosis:"insane"},{text:"I do not know what to expect.",html:"I do not know what to expect.",diagnosis:"uncertain"}],followUp:{sane:{title:"Why do you expect to be labeled SANE?",options:[{text:"I process my thoughts and emotions well."},{text:"I take great care to maintain my mental health."},{text:"I know the answers you’re looking for, and will use those answers regardless of truth."},{text:"I’ve been pretending for years."}]},insane:{title:"Why do you expect to be labeled INSANE?",options:[{text:"I do not easily conform to arbitrary standards."},{text:"I see little value in being emotionally guarded."},{text:"I reject convention."},{text:"Everyone else says I am."}]},uncertain:{title:"Does that uncertainty make you nervous?",options:[{text:"extremely nervous"},{text:"very nervous"},{text:"modestly calm"},{text:"no"}]}}},sortCities:{cities:[{name:"London",country:"United Kingdom",continent:"EU",score:0,population:8799800},{name:"Oslo",country:"Norway",continent:"EU",score:0,population:702543},{name:"Vilnius",country:"Lithuania",continent:"EU",score:0,population:592389},{name:"Lisbon",country:"Portugal",continent:"EU",score:0,population:544851},{name:"Bogotá",country:"Colombia",continent:"SA",score:0,population:6747815},{name:"Rio de Janeiro",country:"Brazil",continent:"SA",score:0,population:6747815},{name:"Chicago",country:"United States",continent:"NA",score:0,population:2746388},{name:"Vancouver",country:"Canada",continent:"NA",score:0,population:662248},{name:"Beijing",country:"China",continent:"AS",score:0,population:21893095},{name:"Seoul",country:"South Korea",continent:"AS",score:0,population:9443722},{name:"Ho Chi Minh City",country:"Vietnam",continent:"AS",score:0,population:8799800},{name:"Bangkok",country:"Thailand",continent:"AS",score:0,population:8305218},{name:"Cairo",country:"Egypt",continent:"AF",score:0,population:10100166},{name:"Nairobi",country:"Kenya",continent:"AF",score:0,population:928850},{name:"Marrakesh",country:"Morocco",continent:"AF",score:0,population:928850},{name:"Melbourne",country:"Australia",continent:"AU",score:0,population:4917750}]}};var app=new Vue({el:"#app",data:{questions:questions,stickerURL:"https://ahoylemon.square.site/product/sane-sticker/6",current:{interface:"intro",question:0,diagnosis:null},ui:{aside:{showNametag:!1,nametagBackground:"#fff"},howManyDrinks:{min:3,max:14},favoriteColor:{opposite:"#fff"},sink:{min:27,max:103},yourName:{min:7,max:21},youThink:{saneHover:!1},hatsExplanation:{demand:!1,min:35,max:103,placeholder:null},enterCode:{code:randomNumber(101,999)+randomFrom(codeLetters)+randomNumber(11,99),errorMessage:null,errorMessageAgain:null,showFollowUpQuestions:!1},breatheNormally:{phase:1,timer:null,ms:0},ramblingQuestion:{followUp:{display:!1}},howManyLights:{flashing:!1,phase:1,timer:null,ms:null},hearingMusic:{now:!1,phase:1},yourPrediction:{diagnosis:null,phase:1},sortCities:{cities:[],answers:[],totalScore:0,showScores:!1,dragCount:0,sortFeedback:"Sort the cities by population. Do it quickly and <strong>do not make any mistakes</strong>.",sortFeedbackOptions:["Be more efficient when you sort the cities.","Go faster.","Think about it.","Go significantly faster.","Be faster in your sorting.","That's probably not right.","You really think so? <strong>Think about it.</strong>","Take your time.","Slow down.","Be faster.","Faster!","Don't do it like that.","That's probably wrong.","You should read more.","You're not familiar with other countries.","You aren't getting this.","You're probably not able to do this.","Are you even trying?","Don't do it that way."],submitButtonDisabled:!0,count:{wrong:0,bad:0,veryBad:0}},dragList:{dragging:!1},diagnosis:{sanityScore:-1,showHow:!1}},answers:{howManyDrinks:0,yourName:"",favoriteColor:null,sink:"",rorschach:null,youThink:null,foodHappy:null,ashamed:null,hats:null,hatsExplanation:null,loveObject:null,enterCode:null,enterCodeAgain:null,ramblingQuestion:null,howManyLights:null,howManyLightsFollowUp:null,enterCodeFollowUp:{confirmed:null,questions:[]},breatheNormally:{why:[]},hearingMusic:null,howManyLightsFollowUp:[],whyTest:null,yourPrediction:null,yourPredictionFollowUp:null,sortCities:[]}},methods:{beginExam(){const e=this;e.current.interface="questions",setTimeout((()=>{e.current.question=1}),2225)},saneHover(e){return this.ui.youThink.saneHover=e,!1},changeFavoriteColor(e){this.ui.favoriteColor.opposite=e},resetPersonalCode(){return this.ui.enterCode.code=randomNumber(101,999)+randomFrom(codeLetters)+randomNumber(11,99),!0},validateCode(e){const t=this;if(1==e){const e=t.answers.enterCode.trim().toUpperCase();!e||e.length<3?t.ui.enterCode.errorMessage=`You must enter the code <tt>${t.ui.enterCode.code}</tt>`:e==t.ui.enterCode.code?t.current.question++:t.ui.enterCode.errorMessage=`That is not the correct code. Enter <tt>${t.ui.enterCode.code}</tt>`}else if(2==e){const e=t.answers.enterCodeAgain.trim().toUpperCase();!e||e.length<3?t.ui.enterCode.errorMessageAgain="You must enter the Personal Code (PC) given to you earlier.":e==t.ui.enterCode.code?t.current.question++:t.ui.enterCode.errorMessageAgain="That is not the correct code. Enter the Personal Code (PC) given to you earlier."}},startBreathing(e){const t=this;1==e?(t.ui.breatheNormally.ms=0,t.ui.breatheNormally.timer=setInterval((function(){t.ui.breatheNormally.ms+=.01,t.ui.breatheNormally.ms>=5.6&&(clearInterval(t.ui.breatheNormally.timer),t.ui.breatheNormally.timer=null,t.ui.breatheNormally.phase=3,t.ui.breatheNormally.ms=0)}),10),t.ui.breatheNormally.phase=2):3==e&&(t.ui.breatheNormally.ms=0,t.ui.breatheNormally.timer=setInterval((function(){t.ui.breatheNormally.ms+=.01,t.ui.breatheNormally.ms>=11.2&&(clearInterval(t.ui.breatheNormally.timer),t.ui.breatheNormally.timer=null,t.ui.breatheNormally.phase=5,t.ui.breatheNormally.ms=0)}),10),t.ui.breatheNormally.phase=4)},startLights(){const e=this;e.ui.howManyLights.phase=2,e.ui.howManyLights.flashing=!0,e.ui.breatheNormally.timer=setTimeout((function(){e.ui.howManyLights.flashing=!1,e.ui.howManyLights.phase=3}),7300)},startMusic(e){const t=this;"quiet"==e?t.ui.hearingMusic.now||(comet1.play(),comet1.fade(0,.05,12e3),t.ui.hearingMusic.now="quiet"):"loop"==e?"loop"!=t.ui.hearingMusic.now&&(comet1.fade(.05,0,6e3),cometLoop.play(),cometLoop.fade(0,.1,6e3)):"stop"==e&&(comet1.fade(.05,0,6e3),cometLoop.fade(.1,0,6e3),setTimeout((()=>{comet1.stop(),cometLoop.stop(),t.ui.hearingMusic.now=null}),6e3))},cityDragged(){const e=this;e.ui.sortCities.dragCount+=1,e.ui.sortCities.dragCount<1?e.ui.sortCities.sortFeedback="Sort the cities by population. Do it quickly and <strong>do not screw it up</strong>":e.ui.sortCities.sortFeedback=randomFrom(e.ui.sortCities.sortFeedbackOptions)},scoreCities(){const e=this,t=e.ui.sortCities.answers;e.ui.sortCities.cities.forEach((function(o,n){t[n]&&t[n].name&&o.name==t[n].name?o.score=3:t[n-1]&&t[n-1].name&&o.name==t[n-1].name||t[n+1]&&t[n+1].name&&o.name==t[n+1].name?o.score=2:t[n-2]&&t[n-2].name&&o.name==t[n-2].name||t[n+2]&&t[n+2].name&&o.name==t[n+2].name?o.score=0:t[n-3]&&t[n-3].name&&o.name==t[n-3].name||t[n+3]&&t[n+3].name&&o.name==t[n+3].name?o.score=-1:t[n-4]&&t[n-4].name&&o.name==t[n-4].name||t[n+4]&&t[n+4].name&&o.name==t[n+4].name?o.score=-2:t[n-5]&&t[n-5].name&&o.name==t[n-5].name||t[n+5]&&t[n+5].name&&o.name==t[n+5].name?o.score=-3:t[n-6]&&t[n-6].name&&o.name==t[n-6].name||t[n+6]&&t[n+6].name&&o.name==t[n+6].name?o.score=-4:o.score=-5,e.ui.sortCities.totalScore+=o.score,o.score<3&&(e.ui.sortCities.count.wrong+=1),o.score<0&&(e.ui.sortCities.count.bad+=1),o.score<-2&&(e.ui.sortCities.count.veryBad+=1)})),e.ui.sortCities.showScores=!0,setTimeout((()=>{e.ui.sortCities.submitButtonDisabled=!1}),3e3)},answerQuestion(e,t,o){const n=this;if("yourName"==e?(n.answers.yourName=n.answers.yourName.slice(0,-1),n.ui.aside.showNametag=!0,_paq.push(["setCustomVariable",1,"patientName",n.answers.yourName,"visit"])):"favoriteColor"==e&&(n.ui.aside.nametagBackground=n.ui.favoriteColor.opposite,n.ui.aside.showNametag=!0),15==n.current.question&&n.startMusic("quiet"),18==n.current.question&&n.startMusic("stop"),"yourPrediction"==e)n.answers.yourPrediction.includes(" SANE")?n.ui.yourPrediction.diagnosis="sane":n.answers.yourPrediction.includes(" INSANE")?n.ui.yourPrediction.diagnosis="insane":n.ui.yourPrediction.diagnosis="uncertain",_paq.push(["setCustomVariable",2,"prediction",n.ui.yourPrediction.diagnosis.toUpperCase(),"visit"]),n.ui.yourPrediction.phase=2;else if("hats"==e)"strongly disagree"==n.answers.hats?n.ui.hatsExplanation.placeholder="You have confessed to an unhealthy aversion to hats. What makes you so afraid?":"slightly disagree"==n.answers.hats?n.ui.hatsExplanation.placeholder="You have failed to commit to your aversion of hats. Is this a problem in your life?":"modestly do agree"==n.answers.hats?n.ui.hatsExplanation.placeholder="You are struggling to choose safe answers. Are you worried what would happen if you told the truth?":"extremely agree"==n.answers.hats&&(n.ui.hatsExplanation.placeholder="You enjoy how hats disguise your appearance. Has anyone ever seen the real you?"),n.ui.hatsExplanation.demand=!0;else if("enterCode1"==e)n.validateCode(1);else if("enterCode2"==e)n.validateCode(2);else if("ramblingQuestion"==e)"I don't know."==n.answers.ramblingQuestion?n.ui.ramblingQuestion.followUp.display=!0:n.current.question++;else if("howManyLights"==e)"1"==n.answers.howManyLights||"2"==n.answers.howManyLights||"7"==n.answers.howManyLights||"8"==n.answers.howManyLights||"1,000"==n.answers.howManyLights?n.ui.howManyLights.phase=4:n.current.question++;else if("hearingMusic"==e)"I don't hear anything."==n.answers.hearingMusic?(n.ui.hearingMusic.phase=2,n.startMusic("loop")):"Yes, I hear music."==n.answers.hearingMusic||"I did, but not anymore."==n.answers.hearingMusic?(n.ui.hearingMusic.phase=3,n.startMusic("loop")):n.current.question++;else{n.current.question++;let e=new URL(window.location);if(e.searchParams.set("question",n.current.question),window.history.pushState({question:n.current.question},"",e),n.current.question>20){n.current.interface="outro",n.ui.diagnosis.showHow=!1;let e=new URL(window.location);e.searchParams.delete("question"),e.searchParams.set("show","outro"),window.history.pushState({question:n.current.question},"",e),n.current.diagnosis="calculating",setTimeout((()=>{n.determineSanity()}),6300)}}t&&o&&sendEvent("Question Answered",t,o)},determineSanity(){const e=this;!e.ui.diagnosis.sanityScore||e.ui.diagnosis.sanityScore<1?e.ui.diagnosis.sanityScore=Math.floor(99*Math.random())+1:e.ui.diagnosis.sanityScore<=50?e.ui.diagnosis.sanityScore=Math.floor(49*Math.random())+50:e.ui.diagnosis.sanityScore>50&&(e.ui.diagnosis.sanityScore=Math.floor(49*Math.random())),50!=e.ui.diagnosis.sanityScore&&0!=e.ui.diagnosis.sanityScore||e.determineSanity(),e.ui.diagnosis.showHow=!1,e.ui.diagnosis.sanityScore<50?e.current.diagnosis="INSANE":e.current.diagnosis="SANE",_paq.push(["setCustomVariable",3,"diagnosis",e.current.diagnosis,"visit"]),"INSANE"==e.current.diagnosis&&insaneSound.play(),"SANE"==e.current.diagnosis&&saneSound.play();let t=new URL(window.location);t.searchParams.set("diagnosis",e.current.diagnosis),window.history.pushState({question:e.current.question},"",t),sendEvent("Diagnosis",e.current.diagnosis)},showHow(){this.ui.diagnosis.showHow=!0,setTimeout((()=>{hljs.highlightAll()}),100)}},computed:{computedDrinksOutput(){const e=this;return e.answers.howManyDrinks<1?"":e.answers.howManyDrinks<e.ui.howManyDrinks.max?e.answers.howManyDrinks:e.answers.howManyDrinks+"+"},computedDrinksError(){const e=this;return e.answers.howManyDrinks?e.answers.howManyDrinks>16?"I am worried about you.":e.answers.howManyDrinks>10?"You have a drinking problem.":e.answers.howManyDrinks>6?"That's quite a lot.":"Please be honest.":"Answer using the slider above."},computedMessCharacters(){const e=this;if(e.answers.sink){const t=e.answers.sink.length;return t<e.ui.sink.min?{display:!0,current:t,min:e.ui.sink.min,max:e.ui.sink.max,error:!0,status:"tooShort"}:t>e.ui.sink.max?{display:!0,current:t,min:e.ui.sink.min,max:e.ui.sink.max,error:!0,status:"tooLong"}:{display:!0,current:t,min:e.ui.sink.min,max:e.ui.sink.max,error:!1,status:"valid"}}return{display:!1,current:0,min:e.ui.sink.min,max:e.ui.sink.min,error:!0,status:"empty"}},computedHatsCharacters(){const e=this,t=e.ui.hatsExplanation;if(e.answers.hatsExplanation){const o=e.answers.hatsExplanation.length;return o<t.min?{display:!0,current:o,min:t.min,max:t.max,error:!0,status:"tooShort"}:o>t.max?{display:!0,current:o,min:t.min,max:t.max,error:!0,status:"tooLong"}:{display:!0,current:o,min:t.min,max:t.max,error:!1,status:"valid"}}return{display:!1,current:0,min:t.min,max:t.min,error:!0,status:"empty"}},computedNameCharacters(){const e=this,t=e.ui.yourName;if(e.answers.yourName){const o=e.answers.yourName.length;return o<t.min?{display:!0,current:o,min:t.min,max:t.max,error:!0,status:"tooShort"}:o>t.max?{display:!0,current:o,min:t.min,max:t.max,error:!0,status:"tooLong"}:{display:!0,current:o,min:t.min,max:t.max,error:!1,status:"valid"}}return{display:!1,current:0,min:t.min,max:t.min,error:!0,status:"empty"}},computedFollowUpQuestionsFinished(){const e=this;return!(!e.questions.enterCode2FollowUp.questions||!e.answers.enterCodeFollowUp.questions)&&e.questions.enterCode2FollowUp.questions.length==e.answers.enterCodeFollowUp.questions.length},computedBreathSecondsOutput(){const e=this;if(e.ui.breatheNormally&&e.ui.breatheNormally.ms){let t=e.ui.breatheNormally.ms.toString().split("."),o=parseInt(t[0]);return o<10&&(o="0"+o),`<span class="big">${o}</span><span class="small">${t[1].substring(0,2)}</span>`}return null},dragOptions:()=>({animation:200,group:"description",disabled:!1,ghostClass:"ghost"})},mounted:function(){const e=this;e.ui.sortCities.cities=[...e.questions.sortCities.cities],e.ui.sortCities.cities=shuffle(e.ui.sortCities.cities),e.ui.sortCities.cities.length=10,e.ui.sortCities.answers=[...e.ui.sortCities.cities],e.ui.sortCities.answers.sort((function(e,t){return e.population>t.population?-1:e.population<t.population?1:0}));let t=new URL(window.location);t.searchParams.delete("question"),t.searchParams.delete("show"),t.searchParams.delete("diagnosis"),window.history.replaceState({vue:"mounted"},"",t)}});
//# sourceMappingURL=site.min.js.map